<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>~ my page ~</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg1:#fff9c4;
      --bg2:#ffeb3b;
      --bg3:#ffb300;
      --jukebox-scale:1.45;
    }

    html,body {
      margin:0;
      height:100%;
      font-family:'Poppins',sans-serif;
      background:linear-gradient(to bottom,var(--bg1),var(--bg2),var(--bg3));
      overflow-x:hidden;
      color:#201b17;
    }

    /* Grain + vignette combined */
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(60% 60% at 50% 40%, rgba(255,255,255,0) 55%, rgba(0,0,0,0.2) 100%), url("grain.png");
      background-size: cover;
      background-repeat: repeat;
      opacity: 0.2;
      pointer-events: none;
      z-index: 1;
    }

    #main {
      position:relative;
      z-index:6;
      text-align:center;
      padding-top:90px;
    }

    h1 {
      margin:0;
      font-size:3rem;
      font-weight:700;
      color:#3b2f1f;
      text-shadow:0 6px 8px rgba(255,235,59,0.3);
      animation: floatHeader 6s ease-in-out infinite;
    }
    @keyframes floatHeader {
      0%,100%{transform:translateY(0)}
      50%{transform:translateY(-12px)}
    }

    /* rose wrapper auto scales */
    #rose-wrap {
      position:fixed;
      left:50%;
      top:50%;
      transform:translate(-50%,-50%);
      width:65vmin;
      height:65vmin;
      z-index:0;
      pointer-events:none;
      filter:drop-shadow(0 0 40px rgba(255,200,0,0.5));
      animation:pulseGlow 4s ease-in-out infinite;
    }
    @keyframes pulseGlow {
      0%,100%{filter:drop-shadow(0 0 40px rgba(255,200,0,0.5))}
      50%{filter:drop-shadow(0 0 80px rgba(255,220,100,0.8))}
    }

    #rose-svg { width:100%; height:100%; }

    /* jukebox left */
    #jukebox {
      position:fixed;
      left:18px;
      top:50%;
      transform:translateY(-50%) scale(var(--jukebox-scale));
      transform-origin:left center;
      z-index:7;
      width:240px;
      background:linear-gradient(90deg,#fff8e1,#fffde7 40%,#fff8e1);
      padding:12px 16px;
      border-radius:14px;
      box-shadow:0 8px 30px rgba(0,0,0,0.18);
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:10px;
    }

    .song { display:flex; align-items:center; gap:10px; width:100%; }
    .song img { width:40px; height:40px; border-radius:8px; object-fit:cover; }
    .meta { font-weight:700; font-size:0.95rem; color:#3b2f1f; }

    .controls { display:flex; align-items:center; gap:10px; }
    .controls button {
      width:44px; height:44px; border-radius:50%; border:none;
      background:#f4c542; color:#201b17; font-size:1.1rem; cursor:pointer;
    }
    .controls button:hover { transform:scale(1.06); background:#ffda76; }
    .disc { width:52px; height:52px; border-radius:50%; animation:spin 6s linear infinite; }
    @keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}

    .volume-row { width:100%; display:flex; align-items:center; gap:8px; }
    .volume-row input[type="range"] { flex:1; }

    /* petals */
    .petal {
      position:fixed; width:18px; height:26px;
      background:radial-gradient(circle at 35% 30%,#fff59d 0%,#ffd54f 45%,#ffb300 85%);
      border-radius:50% 50% 40% 40%;
      transform-origin:center;
      pointer-events:none;
      z-index:3; opacity:0.95;
      box-shadow:0 2px 10px rgba(0,0,0,0.12);
    }
    @keyframes petalFall {
      0%{transform:translateX(0) translateY(-5vh) rotate(0deg);opacity:1}
      100%{transform:translateX(var(--xDrift)) translateY(110vh) rotate(360deg);opacity:0}
    }

    .particle {
      position:fixed; width:6px; height:6px;
      border-radius:50%; background:radial-gradient(circle,#fff59d,transparent);
      opacity:0.9; pointer-events:none; z-index:3;
    }

    /* settings gear */
    #settings-btn {
      position:fixed; top:12px; right:12px;
      background:rgba(0,0,0,0.5); color:white;
      border:none; border-radius:50%; width:40px; height:40px;
      cursor:pointer; font-size:1.2rem; z-index:30;
    }
    #settings-panel {
      position:fixed; top:60px; right:12px;
      background:rgba(255,255,255,0.9);
      border-radius:12px; padding:12px; width:200px;
      box-shadow:0 4px 16px rgba(0,0,0,0.2);
      display:none; z-index:30; font-size:0.9rem; color:#333;
    }
    #settings-panel label { display:block; margin:6px 0 2px; font-weight:600; }

    /* notice above jukebox */
    #jukebox-notice {
      position: fixed;
      left: 18px;
      top: calc(50% - 180px); /* sits above jukebox */
      width: 240px; /* match jukebox width */
      background: rgba(255, 255, 255, 0.95);
      color: #201b17;
      font-weight: 600;
      font-size: 0.9rem;
      padding: 8px 12px;
      border-radius: 10px;
      z-index: 100;
      display: flex;
      justify-content: space-between;
      align-items: center;
      animation: floatHeader 6s ease-in-out infinite;
      box-sizing: border-box;
      text-align: center;
    }
    #jukebox-notice button {
      background:none; border:none; font-size:1rem; cursor:pointer; color:#201b17;
    }

    /* Mobile scaling */
    @media (max-width: 600px) {
      #jukebox {
        transform:translateY(-50%) scale(1.1);
        width: 200px;
      }
      #jukebox-notice {
        width: 200px;
        font-size: 0.8rem;
        top: calc(50% - 150px);
      }
    }
  </style>
</head>
<body>

  <div id="main">
    <h1>üåπ welcome to saur's page üåπ</h1>
  </div>

  <!-- jukebox notice -->
  <div id="jukebox-notice">
    <span>If the music doesn't play, click the fast forward button. üíõ</span>
    <button onclick="this.parentElement.style.display='none'">‚úñ</button>
  </div>

  <!-- jukebox -->
  <aside id="jukebox">
    <div class="song">
      <img id="song-icon" src="Music1.png" alt="">
      <div class="meta" id="song-info">Loading...</div>
    </div>
    <div class="controls">
      <button onclick="prevSong()">‚èÆÔ∏è</button>
      <img class="disc" id="discImg" src="juke.png" alt="">
      <button onclick="nextSong()">‚è≠Ô∏è</button>
    </div>
    <div class="volume-row">
      <label for="volume">üîä</label>
      <input id="volume" type="range" min="0" max="1" step="0.01" value="1">
    </div>
  </aside>

  <audio id="bg-music"></audio>

  <!-- settings -->
  <button id="settings-btn">‚öôÔ∏è</button>
  <div id="settings-panel">
    <label for="petal-density">üåπ Petal Density</label>
    <input id="petal-density" type="range" min="300" max="2000" step="100" value="1200">
    <label for="particle-density">‚ú® Particle Density</label>
    <input id="particle-density" type="range" min="500" max="2500" step="100" value="1500">
    <button id="toggle-effects" style="margin-top:10px;width:100%;">Disable Effects</button>
  </div>

  <script>
    /* jukebox */
    const songs=[
      {file:"Music1.mp3",credit:"Punchline - Pop Club, Bianco Ni√±o",icon:"Music1.png"},
      {file:"Music2.mp3",credit:"Tiddy Middy - Paulie Leparik",icon:"Music2.png"},
      {file:"Music3.mp3",credit:"An Honest Mistake - The Bravery",icon:"Music3.png"},
      {file:"Music4.mp3",credit:"(Don't Fear) The Reaper - Blue √ñyster Cult",icon:"Music4.png"}
    ];
    const audio=document.getElementById("bg-music");
    const songInfo=document.getElementById("song-info");
    const songIcon=document.getElementById("song-icon");
    const vol=document.getElementById("volume");
    let current=Math.floor(Math.random()*songs.length);
    function playSong(i){
      current=(i+songs.length)%songs.length;
      audio.src=songs[current].file;
      audio.play().catch(()=>{});
      songInfo.textContent=songs[current].credit;
      songIcon.src=songs[current].icon;
    }
    function nextSong(){playSong(current+1);}
    function prevSong(){playSong(current-1);}
    audio.addEventListener("ended",nextSong);
    vol.addEventListener("input",()=>audio.volume=vol.value);
    playSong(current);

    /* petals */
    let petalInterval,particleInterval;
    function createPetal(){
      const petal=document.createElement("div");
      petal.className="petal";
      petal.style.left=Math.random()*window.innerWidth+"px";
      petal.style.top="-20px";
      const dur=5+Math.random()*6;
      petal.style.animation=`petalFall ${dur}s linear forwards`;
      petal.style.setProperty("--xDrift",(Math.random()*200-100)+"px");
      document.body.appendChild(petal);
      setTimeout(()=>petal.remove(),dur*1000);
    }
    function createParticle(){
      const p=document.createElement("div");
      p.className="particle";
      p.style.left=Math.random()*window.innerWidth+"px";
      p.style.top=Math.random()*window.innerHeight+"px";
      const dur=2+Math.random()*3;
      p.style.transition=`transform ${dur}s ease-out,opacity ${dur}s ease-out`;
      requestAnimationFrame(()=>{ p.style.transform=`translateY(-${80+Math.random()*60}px)`; p.style.opacity="0"; });
      document.body.appendChild(p);
      setTimeout(()=>p.remove(),dur*1000);
    }
    function startEffects(petalMs,particleMs){
      stopEffects();
      petalInterval=setInterval(createPetal,petalMs);
      particleInterval=setInterval(createParticle,particleMs);
    }
    function stopEffects(){
      clearInterval(petalInterval);
      clearInterval(particleInterval);
    }
    startEffects(1200,1500);

    /* settings */
    const settingsBtn=document.getElementById("settings-btn");
    const settingsPanel=document.getElementById("settings-panel");
    const petalDensity=document.getElementById("petal-density");
    const particleDensity=document.getElementById("particle-density");
    const toggleEffects=document.getElementById("toggle-effects");
    let effectsEnabled=true;

    settingsBtn.onclick=()=>settingsPanel.style.display=settingsPanel.style.display==="block"?"none":"block";
    petalDensity.oninput=()=>{if(effectsEnabled)startEffects(petalDensity.value,particleDensity.value);}
    particleDensity.oninput=()=>{if(effectsEnabled)startEffects(petalDensity.value,particleDensity.value);}
    toggleEffects.onclick=()=>{if(effectsEnabled){stopEffects();effectsEnabled=false;toggleEffects.textContent="Enable Effects";}
      else{startEffects(petalDensity.value,particleDensity.value);effectsEnabled=true;toggleEffects.textContent="Disable Effects";}}

    // Auto-hide notice after 20s
    setTimeout(() => {
      const notice = document.getElementById('jukebox-notice');
      if (notice) notice.style.display = 'none';
    }, 20000);
  </script>
</body>
</html>
