<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Saur's Page</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg1:#fff9c4;
      --bg2:#ffeb3b;
      --bg3:#ffb300;
      --jukebox-scale:1.45;
    }

    html, body {
      height:100%;
      margin:0;
      font-family:'Poppins',sans-serif;
      background: linear-gradient(to bottom, var(--bg1), var(--bg2), var(--bg3));
      overflow:hidden;
      color:#201b17;
    }

    /* Grainy wallpaper effect */
    body::after {
      content:"";
      position:fixed;
      inset:0;
      background-image:
        radial-gradient(rgba(0,0,0,0.05) 1px, transparent 1px),
        radial-gradient(rgba(0,0,0,0.03) 1px, transparent 1px);
      background-size:3px 3px, 5px 5px;
      pointer-events:none;
      z-index:1;
      opacity:0.4;
    }

    /* vignette */
    body::before {
      content:"";
      position:fixed;
      inset:0;
      pointer-events:none;
      background: radial-gradient(60% 60% at 50% 40%, rgba(255,255,255,0) 65%, rgba(0,0,0,0.35) 100%);
      z-index:2;
    }

    #main {
      position:relative;
      z-index:5;
      text-align:center;
      padding-top:90px;
      min-height:100vh;
      box-sizing:border-box;
    }

    h1 {
      margin:0;
      font-size:3rem;
      font-weight:700;
      color:#3b2f1f;
      text-shadow:0 6px 10px rgba(255,235,59,0.2);
      animation: floatHeader 6s ease-in-out infinite;
    }
    @keyframes floatHeader {
      0%,100% { transform:translateY(0); }
      50% { transform:translateY(-12px); }
    }

    /* Rose field */
    #rose-field {
      position:fixed;
      inset:0;
      z-index:0;
      display:grid;
      grid-template-columns:repeat(auto-fill, 120px);
      grid-auto-rows:140px;
      justify-content:center;
      pointer-events:none;
    }

    .rose {
      display:flex;
      align-items:center;
      justify-content:center;
      animation: sway 8s ease-in-out infinite;
      position:relative;
      filter: drop-shadow(0 0 10px rgba(255,230,100,0.6))
              drop-shadow(0 0 25px rgba(255,240,160,0.3));
    }

    @keyframes sway {
      0%,100% { transform:translateY(0) rotate(0deg); }
      50% { transform:translateY(-4px) rotate(-2deg); }
    }

    .rose svg {
      width:60px;
      height:auto;
    }

    /* shimmer sweep */
    .shimmer {
      position:absolute;
      top:0; left:0; right:0; bottom:0;
      background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.7) 40%, transparent 80%);
      background-size:200% 200%;
      animation: shimmerMove 8s linear infinite;
      border-radius:50%;
      pointer-events:none;
    }
    @keyframes shimmerMove {
      0% { background-position:-150% -150%; }
      100% { background-position:150% 150%; }
    }

    /* Petals */
    .petal {
      position:fixed;
      width:18px;
      height:26px;
      background: radial-gradient(circle at 35% 30%, #fff59d 0%, #ffd54f 45%, #ffb300 85%);
      border-radius:50% 50% 40% 40%;
      transform-origin:center;
      pointer-events:none;
      z-index:4;
      opacity:0.95;
      box-shadow:0 2px 10px rgba(0,0,0,0.12);
    }
    @keyframes petalFall {
      0% { transform: translateX(0) translateY(0) rotate(0deg); opacity:1; }
      30% { opacity:1; }
      100% { transform: translateX(var(--xDrift)) translateY(110vh) rotate(360deg); opacity:0; }
    }

    /* jukebox */
    #jukebox {
      position:fixed;
      left:18px;
      top:50%;
      transform:translateY(-50%) scale(var(--jukebox-scale));
      transform-origin:left center;
      z-index:12;
      width:250px;
      background: linear-gradient(90deg, #fff8e1, #fffde7 40%, #fff8e1);
      border-radius:14px;
      box-shadow:0 8px 30px rgba(0,0,0,0.18);
      padding:14px;
      display:flex;
      flex-direction:column;
      gap:10px;
      align-items:center;
    }

    .song { display:flex; align-items:center; gap:10px; width:100%; }
    .song img { width:40px; height:40px; border-radius:8px; object-fit:cover; }
    .song .meta { font-weight:700; font-size:0.95rem; color:#3b2f1f; }

    .controls { display:flex; align-items:center; gap:10px; }
    .controls button {
      width:44px; height:44px; border-radius:50%; border:none;
      background:#f4c542; color:#201b17; font-size:1.1rem; cursor:pointer;
      box-shadow:0 6px 16px rgba(244,197,66,0.25);
    }
    .controls button:hover { transform:scale(1.06); background:#ffda76; }

    .disc { width:52px; height:52px; border-radius:50%; animation:spin 6s linear infinite; object-fit:cover; }
    @keyframes spin { from{transform:rotate(0)} to{transform:rotate(360deg)} }

    .volume-row { width:100%; display:flex; align-items:center; gap:8px; }
    .volume-row input[type=range] { flex:1; }

    @media(max-width:520px) {
      #jukebox { transform:translateY(-50%) scale(1.05); width:200px; }
    }

    /* Settings button */
    #settings-btn {
      position:fixed;
      top:12px;
      right:12px;
      z-index:15;
      font-size:1.6rem;
      cursor:pointer;
      background:#fff8e1;
      border:none;
      border-radius:50%;
      width:42px;
      height:42px;
      box-shadow:0 4px 12px rgba(0,0,0,0.25);
    }
    #settings-panel {
      position:fixed;
      top:60px;
      right:12px;
      background:#fff8e1;
      border-radius:10px;
      padding:12px;
      width:220px;
      z-index:15;
      display:none;
      flex-direction:column;
      gap:10px;
      font-size:0.9rem;
      box-shadow:0 6px 20px rgba(0,0,0,0.25);
    }
    #settings-panel label { font-weight:600; }
    #settings-panel input[type=range] { width:100%; }
  </style>
</head>
<body>
  <!-- Rose Field -->
  <div id="rose-field" aria-hidden="true"></div>

  <!-- Main content -->
  <div id="main">
    <h1>Welcome to Saur's Page üåπ</h1>
  </div>

  <!-- Jukebox -->
  <aside id="jukebox">
    <div class="song">
      <img id="song-icon" src="Music1.png" alt="song icon">
      <div class="meta" id="song-info">Loading...</div>
    </div>

    <div class="controls">
      <button onclick="prevSong()">‚èÆÔ∏è</button>
      <img class="disc" id="discImg" src="juke.png" alt="disc">
      <button onclick="nextSong()">‚è≠Ô∏è</button>
    </div>

    <div class="volume-row">
      <label for="volume">üîä</label>
      <input id="volume" type="range" min="0" max="1" step="0.01" value="1">
    </div>
  </aside>

  <!-- Settings -->
  <button id="settings-btn">‚öôÔ∏è</button>
  <div id="settings-panel">
    <label>Rose Density</label>
    <input id="roseDensity" type="range" min="20" max="150" value="80">
    <label>Petal Intensity</label>
    <input id="petalRate" type="range" min="200" max="2000" value="700">
    <button onclick="toggleEffects()">Toggle Effects</button>
  </div>

  <audio id="bg-music" preload="metadata"></audio>

  <script>
    /* Songs */
    const songs = [
      { file: "Music1.mp3", credit: "Song 1", icon: "Music1.png" },
      { file: "Music2.mp3", credit: "Song 2", icon: "Music2.png" },
      { file: "Music3.mp3", credit: "Song 3", icon: "Music3.png" },
      { file: "Music4.mp3", credit: "Song 4", icon: "Music4.png" }
    ];
    const audio = document.getElementById('bg-music');
    const songInfo = document.getElementById('song-info');
    const songIcon = document.getElementById('song-icon');
    const vol = document.getElementById('volume');

    let current = Math.floor(Math.random()*songs.length);
    function playSong(i){
      current = (i+songs.length)%songs.length;
      audio.src = songs[current].file;
      audio.play().catch(()=>{});
      songInfo.textContent = songs[current].credit;
      songIcon.src = songs[current].icon;
    }
    function nextSong(){ playSong(current+1); }
    function prevSong(){ playSong(current-1); }
    audio.addEventListener('ended', nextSong);
    vol.addEventListener('input', ()=> audio.volume = vol.value );
    playSong(current);

    /* Rose SVG template (more petals) */
    const roseSVG = `
      <div class="rose-wrap">
        <svg viewBox="0 0 100 200" xmlns="http://www.w3.org/2000/svg">
          <g filter="url(#glow)">
            <path d="M50,60 C30,40 20,70 40,85 C60,100 70,70 50,60Z" fill="#ffc107"/>
            <path d="M50,60 C70,40 80,70 60,85 C40,100 30,70 50,60Z" fill="#ffb300"/>
            <ellipse cx="50" cy="60" rx="18" ry="22" fill="#fff59d"/>
          </g>
          <rect x="47" y="95" width="6" height="85" fill="#388e3c"/>
          <path d="M50,120 C20,130 20,150 50,150" fill="none" stroke="#2e7d32" stroke-width="8" stroke-linecap="round"/>
          <path d="M50,140 C80,150 80,170 50,170" fill="none" stroke="#2e7d32" stroke-width="8" stroke-linecap="round"/>
          <defs>
            <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur stdDeviation="3" result="b"/>
              <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
          </defs>
        </svg>
        <div class="shimmer"></div>
      </div>`;

    const field = document.getElementById('rose-field');
    function fillRoses(count){
      field.innerHTML="";
      for(let i=0;i<count;i++){
        const div = document.createElement('div');
        div.className='rose';
        div.innerHTML=roseSVG;
        field.appendChild(div);
      }
    }
    fillRoses(80);

    /* Petals */
    let petalInterval;
    function startPetals(rate){
      if(petalInterval) clearInterval(petalInterval);
      petalInterval=setInterval(()=>{
        const petal=document.createElement('div');
        petal.className='petal';
        petal.style.left=(Math.random()*window.innerWidth)+'px';
        petal.style.top='-20px';
        petal.style.setProperty('--xDrift',(Math.random()*200-100)+'px');
        const dur=5+Math.random()*6;
        petal.style.animation=`petalFall ${dur}s linear forwards`;
        document.body.appendChild(petal);
        setTimeout(()=>petal.remove(), (dur+0.5)*1000);
      },rate);
    }
    startPetals(700);

    /* Settings */
    const settingsBtn=document.getElementById('settings-btn');
    const settingsPanel=document.getElementById('settings-panel');
    let effectsEnabled=true;

    settingsBtn.onclick=()=> {
      settingsPanel.style.display = settingsPanel.style.display==="flex" ? "none":"flex";
      if(settingsPanel.style.display==="flex"){ settingsPanel.style.flexDirection="column"; }
    };
    document.getElementById('roseDensity').oninput=e=> fillRoses(e.target.value);
    document.getElementById('petalRate').oninput=e=> startPetals(e.target.value);
    function toggleEffects(){
      effectsEnabled=!effectsEnabled;
      if(!effectsEnabled){
        field.innerHTML="";
        if(petalInterval) clearInterval(petalInterval);
      } else {
        fillRoses(document.getElementById('roseDensity').value);
        startPetals(document.getElementById('petalRate').value);
      }
    }
  </script>
</body>
</html>
